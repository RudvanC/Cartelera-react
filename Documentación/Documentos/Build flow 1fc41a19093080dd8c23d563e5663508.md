# Build flow

## üè† Descripci√≥n General

**Cartelera React** es una aplicaci√≥n web desarrollada con React para mostrar informaci√≥n de pel√≠culas mediante la API de TheMovieDB. Implementa autenticaci√≥n con Auth0, gesti√≥n de temas (oscuro/claro), y un sistema de ruteo p√∫blico/privado.

El sistema de construcci√≥n utiliza **Vite** por su rapidez, simplicidad y compatibilidad con TailwindCSS.

---

## üöÄ Tecnolog√≠as Utilizadas

- **React**: Biblioteca principal para la interfaz de usuario
- **Vite**: Sistema de construcci√≥n
- **TailwindCSS**: Estilos utilitarios
- **React Router DOM**: Navegaci√≥n entre rutas
- **Auth0**: Autenticaci√≥n
- **React Icons**: Iconograf√≠a

---

## ‚öñÔ∏è Estructura de Carpetas (Resumida)

```
/src
  /assets         ‚Üí Archivos est√°ticos (im√°genes, logos)
  /components     ‚Üí Componentes reutilizables (Navbar, Footer, Cards)
  /pages
    /guest        ‚Üí Landing page para usuarios no autenticados
    /auth         ‚Üí Home, FilmInfo, Search
  /styles         ‚Üí Archivos CSS globales
  /context        ‚Üí Manejo de estado global (tema)
  /App.jsx        ‚Üí Enrutador principal
  /main.jsx       ‚Üí Punto de entrada de la app
```

---

## üîé Flujo General de la Aplicaci√≥n

### 1. **Renderizado Inicial**

Archivo: `main.jsx`

- Se envuelve la app con `Auth0Provider`.
- Se inyecta el router (`BrowserRouter`).
- Se renderiza `App.jsx`.

```
<Auth0Provider>
  <Router>
    <App />
  </Router>
</Auth0Provider>
```

---

### 2. **Sistema de Rutas**

Archivo: `App.jsx`

- Usa `useAuth0()` para detectar si el usuario est√° autenticado.
- Muestra `NavbarAuth` o `NavbarGuest` seg√∫n el estado.
- Redirige a `/home` si el usuario est√° logueado.

```
<Route path="/" element={<Landing />} />
<Route path="/home" element={<ProtectedRoute><Home /></ProtectedRoute>} />
<Route path="/movie/:id" element={<ProtectedRoute><FilmInfo /></ProtectedRoute>} />
<Route path="/search" element={<ProtectedRoute><Search /></ProtectedRoute>} />
```

---

### 3. **Navbar**

- `NavbarAuth`: Para usuarios logueados. Incluye secciones y buscador.
- `NavbarGuest`: Solo para la landing page.
- Usa `position: fixed` y `backdrop-blur` para efecto transparente con desenfoque.

---

### 4. **Search Flow**

- `SearchBox`: Input que redirige a `/search?q=...` al buscar.
- `Search.jsx`: Usa `useSearchParams()` para obtener el t√©rmino de b√∫squeda y llamar a la API.
- Renderiza `CardMd` para cada resultado.

### 5. **Detalles de Pel√≠cula**

- Al hacer clic en cualquier `Card` (ej. `CardSlider`, `CardMd`), se navega a `/movie/:id`.
- `FilmInfo` extrae el `id` de los params y llama a la API para obtener los datos.
- Renderiza `CardLg` con detalles extendidos de la pel√≠cula.

---

## üî† Cambio de Tema (Claro / Oscuro)

- Estado global con `ThemeContext`.
- Clase `dark` se aplica a `<html>` mediante `useEffect`.
- Componente `ThemeToggle` con iconos de React Icons.

```
<button onClick={toggleTheme}>
  {theme === "dark" ? <FaSun /> : <FaMoon />}
</button>
```

---

## üé© Extras

- **Auth0**: Usa `useAuth0()` para login/logout y detectar si el usuario est√° autenticado.
- **ProtectedRoute**: Componente HOC para rutas privadas.
- **Tailwind Config**: Personalizaci√≥n de colores claros/oscuros para mejor accesibilidad visual.

---

## üìÜ Futuras Mejores Pr√°cticas

- Lazy loading para `FilmInfo` y `Search`.
- Tests con Vitest y MSW.
- Cacheo de resultados de b√∫squeda con Zustand o TanStack Query.
- Paginar resultados.